(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{10:function(e,t,a){e.exports=a.p+"static/media/hbcLogo.912f39ec.svg"},15:function(e,t,a){e.exports=a(32)},20:function(e,t,a){},28:function(e,t,a){},32:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(6),o=a.n(c),l=(a(20),a(14)),s=a(1),i=a.n(s),u=a(3),m=a(7),h=a(8),d=a(12),f=a(9),p=a(13),E=function(e){var t=e.giver,a=e.receiver;return r.a.createElement("div",{className:"cardPair"},r.a.createElement("div",{className:"grow giverCard"},r.a.createElement("img",{className:"roboHashImage",alt:"hbcUsers",src:"https://robohash.org/".concat(t.guid,"?200x200")}),r.a.createElement("div",{className:"userCard"},r.a.createElement("h2",null,t.name.first+" "+t.name.last),r.a.createElement("p",{className:"motto"},t.motto),r.a.createElement("p",null,t.email),r.a.createElement("p",null,t.locationPretty," - ",t.departmentPretty)),r.a.createElement("div",{className:"giverLabel"},"Giver")),r.a.createElement("div",{className:"grow receiverCard"},r.a.createElement("img",{className:"roboHashImage",alt:"hbcUsers",src:"https://robohash.org/".concat(a.guid,"?200x200")}),r.a.createElement("div",{className:"userCard"},r.a.createElement("h2",null,a.name.first+" "+a.name.last),r.a.createElement("p",{className:"motto"},a.motto),r.a.createElement("p",null,a.email),r.a.createElement("p",null,a.locationPretty," - ",a.departmentPretty)),r.a.createElement("div",{className:"receiverLabel"},"Receiver")))},g=function(e){var t=e.hbcUser;return r.a.createElement("div",{className:"grow singleCard"},r.a.createElement("img",{className:"roboHashImage",alt:"hbcUser",src:"https://robohash.org/".concat(t.guid,"?200x200")}),r.a.createElement("div",{className:"userCard"},r.a.createElement("h2",null,t.name.first+" "+t.name.last),r.a.createElement("p",{className:"motto"},t.motto),r.a.createElement("p",null,t.email),r.a.createElement("p",null,t.locationPretty," - ",t.departmentPretty)))},v=a(2),b=a.n(v);function w(e){var t=e.split(" "),a="";return b.a.each(t,function(e){a+=e.charAt(0).toUpperCase()+e.slice(1)+" "}),a}function k(e){var t;switch(e){case"dub":t="Dublin";break;case"ny":t="New York";break;default:t=e}return t}var C=function(e){var t=e.hbcUsers,a=e.showFilter;return r.a.createElement("div",{id:"cardList"},"SHOW-COFFEE"===a?t.map(function(e,t){return e[0].locationPretty=k(e[0].location),e[1].locationPretty=k(e[1].location),e[0].departmentPretty=w(e[0].department),e[1].departmentPretty=w(e[1].department),r.a.createElement(E,{giver:e[0],key:t,receiver:e[1]})}):t.map(function(e,t){return e.locationPretty=k(e.location),e.departmentPretty=w(e.department),r.a.createElement(g,{hbcUser:e,key:t})}))},y=a(11),O=a(10),F=a.n(O),x=function(e){var t=e.weekDate.split("-"),a=Object(y.a)(t,2),n=a[0],c=a[1];return r.a.createElement("div",null,r.a.createElement("div",{className:"banner"},r.a.createElement("img",{id:"hbcLogo",alt:"HBC Logo",src:F.a}),r.a.createElement("h1",{id:"weekDisplay"},r.a.createElement("b",null,"Week ",n)," ",c)),r.a.createElement("div",{className:"descriptionContainer"},r.a.createElement("h1",null,"HBC Coffee Week"),r.a.createElement("p",null,"All of you can't start the day without a good coffee. We create ",r.a.createElement("b",null,"HBC coffee sharing service"),", a way to create new bonds with your collegues in your office. Each week you can surprise your work colleague with a coffee (and receive one as well!)."),r.a.createElement("p",null,r.a.createElement("i",null,"Check back each week as your coffee buddy changes!"))))},N=a(4),L=a.n(N),S=(a(26),function(e){var t=e.checkboxChange,a=e.radioChange,n=e.searchChange,c=e.filter;return r.a.createElement("div",{className:"toolbar"},r.a.createElement("div",null,r.a.createElement("form",null,r.a.createElement("div",null,r.a.createElement("legend",null,"Show"),r.a.createElement("div",null,r.a.createElement("div",{className:"radioGroup"},r.a.createElement("input",{type:"radio",id:"show-all",name:"mainFilter",value:"show-all",onChange:a}),r.a.createElement("label",{htmlFor:"show-all"},"All Users")),r.a.createElement("div",{className:"radioGroup"},r.a.createElement("input",{type:"radio",id:"show-coffee",name:"mainFilter",value:"show-coffee",defaultChecked:!0,onChange:a}),r.a.createElement("label",{htmlFor:"show-coffee"},"Coffee List")))),r.a.createElement("div",null,r.a.createElement("legend",null,"Department"),r.a.createElement("div",null,r.a.createElement("div",{className:"checkboxGroup"},r.a.createElement("input",{type:"checkbox",id:"engineering",value:"department.engineering",checked:c.department.engineering,onChange:t}),r.a.createElement("label",{htmlFor:"engineering"},"Engineering")),r.a.createElement("div",{className:"checkboxGroup"},r.a.createElement("input",{type:"checkbox",id:"humanResources",value:"department.humanResources",checked:c.department.humanResources,onChange:t}),r.a.createElement("label",{htmlFor:"humanResources"},"Human Resources")))),r.a.createElement("div",null,r.a.createElement("legend",null,"Location"),r.a.createElement("div",null,r.a.createElement("div",{className:"checkboxGroup"},r.a.createElement("input",{type:"checkbox",id:"dublin",value:"location.dub",checked:c.location.dub,onChange:t}),r.a.createElement("label",{htmlFor:"dublin"},"Dublin")),r.a.createElement("div",{className:"checkboxGroup"},r.a.createElement("input",{type:"checkbox",id:"newYork",value:"location.ny",checked:c.location.ny,onChange:t}),r.a.createElement("label",{htmlFor:"newYork"},"New York"))))),r.a.createElement("div",{id:"searchBox"},r.a.createElement("input",{type:"search",placeholder:"search colleagues by name or by department, location, phone, motto e.g. motto:decentralized",onChange:n}))))}),j=function(e){return r.a.createElement("div",{className:"scrollContent"},e.children)},W=(a(28),function(e){function t(){var e;return Object(m.a)(this,t),(e=Object(d.a)(this,Object(f.a)(t).call(this))).fetchAllUsers=Object(u.a)(i.a.mark(function e(){var t,a;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return L.a.start(),e.next=3,fetch("/api/fetchAllUsers");case 3:return t=e.sent,e.next=6,t.json();case 6:if(a=e.sent,200===t.status){e.next=9;break}throw Error(a.message);case 9:return L.a.done(),e.abrupt("return",a);case 11:case"end":return e.stop()}},e,this)})),e.fetchCoffeeList=Object(u.a)(i.a.mark(function e(){var t,a;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return L.a.start(),e.next=3,fetch("/api/fetchCoffeeList");case 3:return t=e.sent,e.next=6,t.json();case 6:if(a=e.sent,200===t.status){e.next=9;break}throw Error(a.message);case 9:return L.a.done(),e.abrupt("return",a);case 11:case"end":return e.stop()}},e,this)})),e.fetchWeekDate=Object(u.a)(i.a.mark(function e(){var t,a;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/fetchWeekDate");case 2:return t=e.sent,e.next=5,t.json();case 5:if(a=e.sent,200===t.status){e.next=8;break}throw Error(a.message);case 8:return e.abrupt("return",a);case 9:case"end":return e.stop()}},e,this)})),e.filterOptions=function(){var t=e.state.filter,a={},n=Object.keys(t);for(var r in b.a.each(n,function(e){a[e]={}}),t)a[r]=b.a.omitBy(t[r],function(e){return!1===e}),a[r].humanResources&&(a[r]["human resources"]=a[r].humanResources);return a},e.onCheckboxChange=function(t){var a=t.target.value.split("."),n=Object(l.a)({},e.state.filter);n[a[0]][a[1]]=t.target.checked,e.setState({filter:n})},e.onRadioChange=function(){var t=Object(u.a)(i.a.mark(function t(a){return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:a.target.value.toUpperCase()===e.SHOWALL?e.fetchAllUsers().then(function(t){return e.setState({response:t.allUsers,showFilter:e.SHOWALL,filter:{department:{engineering:!0,humanResources:!0},location:{dub:!0,ny:!0}}})}).catch(function(e){return console.log(e)}):a.target.value.toUpperCase()===e.SHOWCOFFEE&&e.fetchCoffeeList().then(function(t){return e.setState({response:t.coffeeUserList,showFilter:e.SHOWCOFFEE,filter:{department:{engineering:!0,humanResources:!1},location:{dub:!0,ny:!0}}})}).catch(function(e){return console.log(e)});case 1:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),e.onSearchChange=function(t){e.setState({searchField:t.target.value})},e.searchBoxParse=function(e,t,a){try{return 2===e.length&&t[e[0]]&&e[1]?t[e[0]].toLowerCase().includes(e[1].toLowerCase()):t.name.first.toLowerCase().includes(a.toLowerCase())||t.name.last.toLowerCase().includes(a.toLowerCase())}catch(n){console.log(n)}},e.pairFilterOptions=function(t){var a,n=[],r=e.filterOptions();return t.forEach(function(e){a=!0,e.forEach(function(e){for(var t in r)b.a.includes(Object.keys(r[t]),e[t])||0===Object.keys(r[t]).length||(a=!1)}),a&&n.push(e)}),n},e.pairSearchFilter=function(){for(var t=e.state,a=t.searchField,n=t.response,r=[],c=a.split(":"),o=0;o<n.length;o++)0!==n[o].filter(function(t){return e.searchBoxParse(c,t,a)}).length&&r.push(n[o]);return r},e.userFilterOptions=function(t){var a,n=[],r=e.filterOptions();return t.forEach(function(e){for(var t in a=!0,r)b.a.includes(Object.keys(r[t]),e[t])||0===Object.keys(r[t]).length||(a=!1);a&&n.push(e)}),n},e.userSearchFilter=function(){var t=e.state,a=t.searchField,n=t.response,r=a.split(":");return n.filter(function(t){return e.searchBoxParse(r,t,a)})},e.SHOWALL="SHOW-ALL",e.SHOWCOFFEE="SHOW-COFFEE",e.state={filter:{department:{engineering:!0,humanResources:!1},location:{dub:!0,ny:!0}},response:"",searchField:"",showFilter:e.SHOWCOFFEE,weekDate:""},e}return Object(p.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.fetchCoffeeList().then(function(t){return e.setState({response:t.coffeeUserList})}).catch(function(e){return console.log(e)}),this.fetchWeekDate().then(function(t){return e.setState({weekDate:t.weekDate})}).catch(function(e){return console.log(e)})}},{key:"render",value:function(){var e,t=this.state,a=t.filter,n=t.response,c=t.showFilter,o=t.weekDate;return c===this.SHOWCOFFEE?(e=this.pairSearchFilter(),e=this.pairFilterOptions(e)):(e=this.userSearchFilter(),e=this.userFilterOptions(e)),n.length?r.a.createElement("div",{className:"app-div"},r.a.createElement(x,{weekDate:o}),r.a.createElement("div",{className:"contentContainer"},r.a.createElement(S,{searchChange:this.onSearchChange,checkboxChange:this.onCheckboxChange,radioChange:this.onRadioChange,filter:a}),r.a.createElement(j,null,r.a.createElement(C,{hbcUsers:e,showFilter:c})))):r.a.createElement("div",{className:"app-div"},r.a.createElement(x,{weekDate:o}),r.a.createElement("h1",{className:"loading"},"Loading"))}}]),t}(n.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(30);o.a.render(r.a.createElement(W,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[15,2,1]]]);
//# sourceMappingURL=main.47141858.chunk.js.map